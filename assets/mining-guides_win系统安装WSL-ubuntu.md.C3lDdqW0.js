import{_ as n,c as t,o as a,ag as p}from"./chunks/framework.KLbWPeN7.js";const w=JSON.parse('{"title":"win系统安装WSL-ubuntu最新版+安装NVIDIA显卡驱动和CUDA教程","description":"","frontmatter":{"title":"win系统安装WSL-ubuntu最新版+安装NVIDIA显卡驱动和CUDA教程","date":"2025-10-2","sidebar":"auto"},"headers":[],"relativePath":"mining-guides/win系统安装WSL-ubuntu.md","filePath":"mining-guides/win系统安装WSL-ubuntu.md"}'),e={name:"mining-guides/win系统安装WSL-ubuntu.md"};function o(i,u,d,s,r,l){return a(),t("div",null,u[0]||(u[0]=[p('<h1 id="win系统安装wsl-ubuntu最新版-安装nvidia显卡驱动和cuda教程" tabindex="-1">win系统安装WSL-ubuntu最新版+安装NVIDIA显卡驱动和CUDA教程 <a class="header-anchor" href="#win系统安装wsl-ubuntu最新版-安装nvidia显卡驱动和cuda教程" aria-label="Permalink to &quot;win系统安装WSL-ubuntu最新版+安装NVIDIA显卡驱动和CUDA教程&quot;">​</a></h1><p>一、首先更换最新的windows11系统</p><p>网上有很多windows系统，搜一下就可以搜到，在这里只推荐安装微软官方的最新版11系统，什么精简版，ghost版我不推荐安装，如果后续无法安装操作我也不知道原因！ 我只推荐官方windows11系统，本教程也是基于官方windows11系统！</p><p>二、安装ubuntu24.04</p><p>win11系统安装完成后，进入命令行，从命令行运行以下命令安装ubuntu24.04：</p><p>wsl -l -o wsl --install -d Ubuntu-24.04</p><p>三、安装NVIDIA显卡驱动</p><p>前提是windows11系统已经正确安装NVIDIA显卡驱动！没用安装先去安装！ windows系统N卡驱动下载地址：<a href="https://www.nvidia.cn/Download/index.aspx?lang=cn" target="_blank" rel="noreferrer">https://www.nvidia.cn/Download/index.aspx?lang=cn</a></p><p>然后在Ubuntu-24.04系统中安装NVIDIA驱动，默认windwos系统安装完成驱动，windowsn内置的Ubuntu-24.04就不需要安装驱动了！</p><p>我们可以在Ubuntu-24.04中查看显卡版本</p><p>使用这个命令：nvidia-smi</p><p>当然ubuntu系统也可以安装NVIDIA驱动，那就有点脱裤子放屁，多此一举了！一下是原生ubuntu系统安装NVIDIA驱动命令，仅供参考！</p><p>sudo add-apt-repository ppa:graphics-drivers/ppa # 加入官方ppa源 sudo apt update # 检查软件包更新列表 apt list --upgradable # 查看可更新的软件包列表 sudo apt upgrade # 更新所有可更新的软件包 ubuntu-drivers devices # ubuntu检测n卡的可选驱动 sudo apt install nvidia-driver-535 # 根据自己的n卡可选驱动下载显卡驱动 sudo nvidia-settings # 更改Nvidia驱动设置 nvidia-smi # 查看显卡基本信息</p><p>四、WSL安装CUDA（windowsn内置的Ubuntu-24.04安装CUDA）</p><p>直接用一下命令安装cuda-toolkit-12-9，记住是在Ubuntu-24.04里面运行命令，不是在win系统命令行里面运行，注意区分！</p><p>wget <a href="https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-wsl-ubuntu.pin" target="_blank" rel="noreferrer">https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-wsl-ubuntu.pin</a> sudo mv cuda-wsl-ubuntu.pin /etc/apt/preferences.d/cuda-repository-pin-600 wget <a href="https://developer.download.nvidia.com/compute/cuda/12.9.1/local_installers/cuda-repo-wsl-ubuntu-12-9-local_12.9.1-1_amd64.deb" target="_blank" rel="noreferrer">https://developer.download.nvidia.com/compute/cuda/12.9.1/local_installers/cuda-repo-wsl-ubuntu-12-9-local_12.9.1-1_amd64.deb</a> sudo dpkg -i cuda-repo-wsl-ubuntu-12-9-local_12.9.1-1_amd64.deb sudo cp /var/cuda-repo-wsl-ubuntu-12-9-local/cuda-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudo apt-get -y install cuda-toolkit-12-9</p><p>安装完成运行下面命令，查看CUDA版本</p><p>nvcc --version</p><p>如果输入版本命令看不到版本，WSL需要配置添加一下代码： 最后一行添加代码，然后保存退出。 执行命令确认环境变量应用成功！就可以看到cuda版本！ 代码如下：</p><p>nano ~/.bashrc</p><p>export PATH=/usr/local/cuda-12.3/bin${PATH:+:${PATH}}</p><p>source ~/.bashrc</p><p>修改完成然后运行查看CUDA版本命令，回显：一下内容说明安装成功！</p><p>huge@ubuntu:~$ nvcc --version nvcc: NVIDIA (R) Cuda compiler driver Copyright (c) 2005-2025 NVIDIA Corporation Built on Tue_May_27_02:21:03_PDT_2025 Cuda compilation tools, release 12.9, V12.9.86 Build cuda_12.9.r12.9/compiler.36037853_0</p><p>五、迁移备份还原WSL</p><p>1.在Windows PowerShell中输入如下命令</p><p>wsl -l --all -v</p><p>2.导出分发版为tar文件到E盘(如果你只是备份，那么下面的到第二步就可以了)</p><p>wsl --export Ubuntu-22.04 E:wsl-ubuntu22.04.tar</p><p>3.注销当前分发版（等于清除原有的子系统）</p><p>wsl --unregister Ubuntu-22.04</p><p>重新导入并安装WSL重新导入并安装WSL在e:wsl-ubuntu20.04（迁移/还原到其他目录）</p><p>wsl --import Ubuntu-22.04 e:wsl-ubuntu22.04 e:wsl-ubuntu22.04.tar --version 2</p><p>导入以后打开命令行，输入 wsl -d Ubuntu22.04 就启动了导入的默认就是root账户，挖矿用，默认root</p>',34)]))}const b=n(e,[["render",o]]);export{w as __pageData,b as default};
