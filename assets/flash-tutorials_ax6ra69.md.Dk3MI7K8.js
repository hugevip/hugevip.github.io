import{_ as a,c as e,o,ag as p}from"./chunks/framework.KLbWPeN7.js";const r="/images/AX6.png",_=JSON.parse('{"title":"红米AX6刷机教程！小米RA69刷入OpenWRT固件教程，小白也能轻松刷机！","description":"","frontmatter":{},"headers":[],"relativePath":"flash-tutorials/ax6ra69.md","filePath":"flash-tutorials/ax6ra69.md"}'),i={name:"flash-tutorials/ax6ra69.md"};function s(l,t,d,m,n,b){return o(),e("div",null,t[0]||(t[0]=[p('<h1 id="红米ax6刷机教程-小米ra69刷入openwrt固件教程-小白也能轻松刷机" tabindex="-1">红米AX6刷机教程！小米RA69刷入OpenWRT固件教程，小白也能轻松刷机！ <a class="header-anchor" href="#红米ax6刷机教程-小米ra69刷入openwrt固件教程-小白也能轻松刷机" aria-label="Permalink to &quot;红米AX6刷机教程！小米RA69刷入OpenWRT固件教程，小白也能轻松刷机！&quot;">​</a></h1><p>✅ Redmi AX6作为一款搭载高通六核处理器的WiFi6路由器，当年性价比极高的 “神车” 级路由器，搭载高通 IPQ8071A 双核 1GHz CPU + 四核 NPU 的六核架构，这个配置在当时 200 元价位段几乎没有对手，后期涨价到 300-400 元，其性能表现接近软路由水平，通过刷入OpenWrt系统，能流畅跑满千兆带宽，还能轻松应对多设备并发和复杂的插件。WiFi 6 满血：支持 2x2 160MHz 频宽，双频并发速率可达 2976Mbps，无线速率和覆盖在同价位表现突出。</p><p>✅ 网上红米 AX6 刷 Openwrt 很多都是几年前的教程，很多教程都已经失效了，不扩容刷机教程，刷入的固件只能在30兆以内，无法安装各种插件，可玩性一般，也无法发挥路由器的性能，刷个机为什么还要扩容呢？ 这是因为小米 AX 系列路由器分区机制所导致的。</p><p>✅ 我们以闪存大小为 128 兆红米 AX6 为例进行讲解，128 兆空间被分为多个分区，其中 mtd12 和 mtd13 这两个分区存储路由器的固件，对应分区名为 root_fs 和 root_fs1。不管是小米官方固件还是 OP 固件都只能刷入这两个分区。为什么会有两个分区存放固件呢？这应该是一种安全备份机制，类似于我们主板的双 BIOS。比如原固件在 mtd12 分区，当我们更新固件时，会更新到 mtd13 分区，更新完毕路由器重启后会读取 mtd13 分区的系统文件，以此类推每次更新都会刷入到另一个分区里。极大提高了更新固件的安全性。</p><p>✅ 凡事都有两面性，双分区可以提高了安全性，但每个分区的容量就变小了，两个分区均只有 36 兆大小，而刷入的固件大小更是要控制在 30 兆以内。30 兆对于小米官方固件来说够用了，但对于 OP 系统而言有些捉襟见肘，无法满足需求。当然不扩容刷机没有改变分区表，刷机出现问题我们可以使用小米官方修复工具进行修复。</p><p>✅ 合并分区通过将扩容分区表刷入到 mtd1 分区，从而把 12、13、14 分区进行合并，合并后的系统分区可达 104 兆，这已经是 AX6 128 兆闪存的极限了。刷入引导程序是在 mtd7 分区刷入改版的 uboot 引导程序替换官方 uboot 引导程序。如果你操作错误等情况可能会变砖得返厂，我不会对此负责！</p><p><img src="'+r+'" alt="CasaOS界面"></p><h2 id="📦刷机准备工作" tabindex="-1">📦刷机准备工作 <a class="header-anchor" href="#📦刷机准备工作" aria-label="Permalink to &quot;📦刷机准备工作&quot;">​</a></h2><ul><li>红米AX6</li><li>准备一跟网线，一台windows系统电脑。</li><li>下载刷机工具包，固件我已经打包好了放在网盘里面，兄弟们自取！</li></ul><blockquote><p>📺 视频教程：<br><a href="https://youtu.be/S5hTxd7jmDU" target="_blank" rel="noreferrer">点击观看 YouTube 视频教程</a></p></blockquote><p>红米AX6刷机工具包：</p><p>仅需 ¥3.2元 <a href="/shop/ra69.html">👉 立即购买</a>（网盘发货，收集固件录制视频不易感谢支持！）</p><p>一、解锁 SSH</p><p>AX6 可解锁 SSH 的固件版本为 1.0.16或1.0.18。我们以1.0.18为例。登录 AX6 的后台，点击系统升级，选择固件，选择清除当前所有用户配置，点击确定即可刷新固件， 重启后初始化设置请务必取消勾选路由空闲时为您自动升级固件版本 ！</p><p>二、刷入Uboot</p><p>首先上传要刷入的文件 192.168.1.1，用户名 root，密码为空，成功登录后在路由器系统选择 tmp 文件夹，</p><p>选择扩容分区表文件 ax6-uboot-mibib.bin 和改版 uboot 文件 ax6-uboot.bin 进行上传。</p><p>上传完毕后，打开 cmd 登录 ssh，输入下面两行命令， 首先先执行以下命令配置启动参数（防止刷写后无法进入 U-Boot）：</p><p>nvram set flag_last_success=0 nvram set flag_boot_rootfs=0 nvram set flag_boot_success=1 nvram set flag_try_sys1_failed=0 nvram set flag_try_sys2_failed=0 nvram set boot_wait=on nvram set uart_en=1 nvram set telnet_en=1 nvram set ssh_en=1 nvram commit</p><p>mtd12刷入qsdk固件</p><p>cd /tmp</p><p>mtd write /tmp/xiaomimtd12.bin rootfs</p><p>写入固件重新插拔电源重启</p><p>进入qsdk固件：192.168.1.1</p><p>继续ssh连接qsdk 固件</p><p>输入一下命令查看分区确认 mtd1 和 mtd7 的分区是否存在 cat /proc/mtd</p><p>fw_setenv flag_last_success 0 fw_setenv flag_boot_rootfs 0</p><h1 id="擦除-mibib-分区-dev-mtd1" tabindex="-1">擦除 mibib 分区（/dev/mtd1） <a class="header-anchor" href="#擦除-mibib-分区-dev-mtd1" aria-label="Permalink to &quot;擦除 mibib 分区（/dev/mtd1）&quot;">​</a></h1><p>mtd erase /dev/mtd1</p><h1 id="写入-mibib-文件" tabindex="-1">写入 mibib 文件 <a class="header-anchor" href="#写入-mibib-文件" aria-label="Permalink to &quot;写入 mibib 文件&quot;">​</a></h1><p>mtd write /tmp/ax6-mibib.bin /dev/mtd1</p><h1 id="擦除-u-boot-分区-dev-mtd7" tabindex="-1">擦除 U-Boot 分区（/dev/mtd7） <a class="header-anchor" href="#擦除-u-boot-分区-dev-mtd7" aria-label="Permalink to &quot;擦除 U-Boot 分区（/dev/mtd7）&quot;">​</a></h1><p>mtd erase /dev/mtd7</p><h1 id="写入-u-boot-文件" tabindex="-1">写入 U-Boot 文件 <a class="header-anchor" href="#写入-u-boot-文件" aria-label="Permalink to &quot;写入 U-Boot 文件&quot;">​</a></h1><p>mtd write /tmp/uboot-redmi-ax6.bin /dev/mtd7</p><p>⚠️ 我们刚刚修改了分区表，写入完成后一定要记得断电重启！⚠️</p><ul><li>验证新 U-Boot。断电后按住 Reset 键不松手，通电等待 10秒，指示灯变蓝色常亮，松开 Reset。</li><li>电脑静态 IP 改为 192.168.1.2，浏览器访问 192.168.1.1，进入 U-Boot Web 界面即成功。</li></ul><p>三、刷入OpenWrt</p><ul><li><p>然后打开浏览器输入 192.168.1.1 即可进入 uboot 界面。点击选择文件，选取要刷入的 OP 固件，点击 update firmware 刷入固件。</p></li><li><p>刷入完成后路由器会自动重启。把 ip 地址改回自动获取。</p></li><li><p>登录后台，进入登录页面，选择系统菜单下的备份/升级选项，打开页面，点击刷写固件按钮，选择以 sysupgrade结尾的文件，点击上传，去掉保持设置并保留当前配置选项前的勾，点击继续， 开始刷入，路由器会自动重启。</p></li><li><p>等待路由器自动重启完成，蓝灯常亮后，会自动跳转到后台登录界面，或者手动输入后台地址。</p></li><li><p>ImmortalWrt固件</p></li></ul><p>192.168.1.1</p><p>账号：root密码：root</p><p>Kwrt固件</p><p>10.0.0.1</p><p>账号：root密码：root</p><p>X-WRT</p><p>无线默认名称：_XXXX，密码：88888888</p><p>192.168.15.1</p><p>账户/密码：admin/admin</p><ul><li>收集整理不容易！记得视频点赞关注就是对我最大的支持！</li></ul>',49)]))}const h=a(i,[["render",s]]);export{_ as __pageData,h as default};
